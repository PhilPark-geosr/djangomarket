<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<body>

    <form action = "" method = "get">
        <input type = "text" name = "q" , value = "{{q}}"/>
        <input type = "submit" value = "검색" />
    </form>
    {% comment %} url reverse {% endcomment %}
    <a href = {% url "ai:aidetail_new" %} class = 'btn btn-primary'>새 추론</a>
    <table class = "table table-bordered table-hover">
        <tbody>
            <tr>
                <td>
                    user
                </td>
                <td>
                    입력자료
                </td>
                <td>
                    task category
                </td>
                <td>
                    사용 모델
                </td>
                
                <td>
                    추론결과
                </td>
            </tr>
        {% for elem in aidetail_list %}
            
            <tr>
                <td>
                    {{elem.user.username}}
                </td>
                <td>
                    {% if elem.photo %}
                        <img src = {{elem.photo.url}} style = "width:200px"/>
                    {% else %}
                        No photo
                    {% endif %}
                </td>
                <td>
                    {{elem.task_category.name}}
                </td>
                {% comment %} <td>
                    {{elem.model_name.name}}
                </td> {% endcomment %}
                <td>
                    {% for t in elem.task_category.inferencemodel_set.all %}
                    {% comment %} TODO: 유저가 입력한 모델만 보여지게끔 {% endcomment %}
                        {{t.name}}
                    {% endfor %}
                    
                    
                </td>
                <td>
                    <a href="{{elem.get_absolute_url}}">
                        <img src = {{elem.result.result_image_url}} style = "width:200px"/>
                    </a>
                    
                </td>
                
                
            </tr>
        {% endfor %}
        </tbody>
        </table>
</body>


